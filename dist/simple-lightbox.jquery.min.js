/*!
	By André Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.de
	Available for use under the MIT License
	Version 1.16.3 (ES6+noquery port by Martin Tillmann)
*/
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var SimpleLightbox=function(){function n(t,e){var i=this;_classCallCheck(this,n),_defineProperty(this,"a",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"×",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox"}),_defineProperty(this,"b",void 0),_defineProperty(this,"c",!1),_defineProperty(this,"d","ontouchstart"in window),_defineProperty(this,"e",void 0),_defineProperty(this,"f","pushState"in history),_defineProperty(this,"g",!1),_defineProperty(this,"h",!1),_defineProperty(this,"i",!1),_defineProperty(this,"j",!1),_defineProperty(this,"k",null),_defineProperty(this,"l",void 0),_defineProperty(this,"m","simplelightbox"),_defineProperty(this,"n",{}),_defineProperty(this,"o",[]),_defineProperty(this,"p",0),_defineProperty(this,"q",0),_defineProperty(this,"r",null),_defineProperty(this,"s",0),_defineProperty(this,"t",{a:0,b:0,c:0,d:0,e:0,f:0,g:!1,h:0,i:!1,j:0,k:0,l:0,m:0,n:0,o:0,p:!1,q:0,r:0,s:0,t:0,u:0,v:0,w:1,x:0,y:0,z:0,A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,K:0,L:0,M:!1,N:0}),this.options=Object.assign(this.a,e),this.elements="string"==typeof t?(this.r=t,Array.from(document.querySelectorAll(t))):void 0!==t.length&&0<t.length?Array.from(t):[t],this.b=this.calculateTransitionPrefix(),this.c=!1!==this.b,this.e=this.hash,this.options.rel&&(this.elements=Array.from(this.elements).filter(function(t){return t.getAttribute("rel")===i.options.rel})),this.createDomNodes(),this.options.close&&this.n.a.appendChild(this.n.b),this.options.showCounter&&1<this.elements.length&&(this.n.a.appendChild(this.n.c),this.n.c.querySelector(".sl-total").innerHTML=this.elements.length),this.options.nav&&this.n.a.appendChild(this.n.d),this.options.spinner&&this.n.a.appendChild(this.n.e),this.addEventListener(this.elements,"click."+this.m,function(t){if(i.isValidLink(t.currentTarget)){if(t.preventDefault(),i.h)return!1;i.p=i.elements.indexOf(t.currentTarget),i.openImage(t.currentTarget)}}),this.options.docClose&&this.addEventListener(this.n.f,["click."+this.m,"touchstart."+this.m],function(t){i.g&&i.close()}),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.m,function(t){t.target.classList.contains("sl-overlay")&&t.preventDefault()}),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.m,this.throttle(function(t){if(i.t.a=0,i.h&&"Escape"===t.key)return i.l.setAttribute("src",""),i.h=!1,i.close();i.g&&(t.preventDefault(),"Escape"===t.key&&i.close(),-1<["ArrowLeft","ArrowRight"].indexOf(t.key)&&i.loadImage("ArrowRight"===t.key?1:-1))},this.options.throttleInterval)),this.addEvents()}return _createClass(n,[{key:"createDomNodes",value:function(){this.n.f=document.createElement("div"),this.n.f.classList.add("sl-overlay"),this.n.f.dataset.opacityTarget=".7",this.n.b=document.createElement("button"),this.n.b.classList.add("sl-close"),this.n.b.innerHTML=this.options.closeText,this.n.e=document.createElement("div"),this.n.e.classList.add("sl-spinner"),this.n.e.innerHTML="<div></div>",this.n.d=document.createElement("div"),this.n.d.classList.add("sl-navigation"),this.n.d.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.n.c=document.createElement("div"),this.n.c.classList.add("sl-counter"),this.n.c.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.n.g=document.createElement("div"),this.n.g.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.n.g.classList.add(this.options.captionClass),this.n.h=document.createElement("div"),this.n.h.classList.add("sl-image"),this.n.a=document.createElement("div"),this.n.a.classList.add("sl-wrapper"),this.options.className&&this.n.a.classList.add(this.options.className)}},{key:"throttle",value:function(t,e){var i;return function(){i||(t.apply(this,arguments),i=!0,setTimeout(function(){return i=!1},e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||"pathname"in t&&new RegExp("("+this.options.fileExt+")$","i").test(t.pathname)}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t&&"-o"}},{key:"toggleScrollbar",value:function(t){var e=0;if("hide"===t){var i=window.innerWidth;if(!i){var n=document.documentElement.getBoundingClientRect();i=n.right-Math.abs(n.left)}if(document.body.clientWidth<i){var s=document.createElement("div"),o=parseInt(document.body.style.paddingRight||0,10);s.classList.add("sl-scrollbar-measure"),document.body.appendChild(s),e=s.offsetWidth-s.clientWidth,document.body.removeChild(s),document.body.dataset.originalPaddingRight=o,0<e&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=o+e+"px")}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight;return e}},{key:"close",value:function(){var t=this;if(!this.g||this.h||this.i)return!1;this.i=!0;var e=this.elements[this.lIndex];for(var i in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&this.resetHash(),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),300,function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.n.a),document.body.removeChild(t.n.f),e.dispatchEvent(new Event("closed.simplelightbox")),t.i=!1}),this.l=null,this.g=!1,this.h=!1,this.t)this.t[i]=0;this.t.g=!1,this.t.i=!1,this.t.p=!1,this.t.w=this.minMax(1,1,this.options.maxZoom),this.t.M=!1}},{key:"preload",value:function(){var i=this,n=this.lIndex,t=this.elements.length,e=n+1<0?t-1:t-1<=n+1?0:n+1,s=n-1<0?t-1:t-1<=n-1?0:n-1,o=new Image,a=new Image;o.addEventListener("load",function(t){var e=t.target.getAttribute("src");-1===i.o.indexOf(e)&&i.o.push(e),i.elements[n].dispatchEvent(new Event("nextImageLoaded."+i.m))}),o.setAttribute("src",this.elements[e].getAttribute(this.options.sourceAttr)),a.addEventListener("load",function(t){var e=t.target.getAttribute("src");-1===i.o.indexOf(e)&&i.o.push(e),i.elements[n].dispatchEvent(new Event("prevImageLoaded."+i.m))}),a.setAttribute("src",this.elements[s].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(e){var i=this;this.elements[this.lIndex].dispatchEvent(new Event("change."+this.m)),this.elements[this.lIndex].dispatchEvent(new Event((1===e?"next":"prev")+"."+this.m));var t=this.lIndex+e;if(this.h||(t<0||t>=this.elements.length)&&!1===this.options.loop)return!1;this.lIndex=t<0?this.elements.length-1:t>this.elements.length-1?0:t,this.n.c.querySelector(".sl-current").innerHTML=this.lIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*e-this.t.a+"px"),this.fadeOut(this.n.h,300,function(){setTimeout(function(){var t=i.elements[i.lIndex];i.l.setAttribute("src",t.getAttribute(i.options.sourceAttr)),-1===i.o.indexOf(t.getAttribute(i.options.sourceAttr))&&i.show(i.n.e),i.n.h.removeChild(i.n.g),i.adjustImage(e),i.options.preloading&&i.preload()},100)})}},{key:"adjustImage",value:function(a){var r=this;if(!this.l)return!1;var t=new Image,l=window.innerWidth*this.options.widthRatio,h=window.innerHeight*this.options.heightRatio;t.setAttribute("src",this.l.getAttribute("src")),this.l.dataset.scale=1,this.l.dataset.translateX=0,this.l.dataset.translateY=0,this.zoomPanElement(0,0,1),t.addEventListener("error",function(t){r.elements[r.lIndex].dispatchEvent(new Event("error."+r.m)),r.h=!1,r.g=!1,r.n.e.style.display="none";var e=1===a||-1===a;if(r.p===r.lIndex&&e)return r.close();r.options.alertError&&alert(r.options.alertErrorMessage),r.loadImage(e?a:1)}),t.addEventListener("load",function(t){void 0!==a&&(r.elements[r.lIndex].dispatchEvent(new Event("changed."+r.m)),r.elements[r.lIndex].dispatchEvent(new Event((1===a?"nextDone":"prevDone")+"."+r.m))),r.options.history&&r.updateURL(),-1===r.o.indexOf(r.l.getAttribute("src"))&&r.o.push(r.l.getAttribute("src"));var e=t.target.width,i=t.target.height;if(r.options.scaleImageToRatio||l<e||h<i){var n=l/h<e/i?e/l:i/h;e/=n,i/=n}r.n.h.style.top=(window.innerHeight-i)/2+"px",r.n.h.style.left=(window.innerWidth-e-r.s)/2+"px",r.n.h.style.width=e+"px",r.n.h.style.height=i+"px",r.n.e.style.display="none",r.fadeIn(r.l,300),r.g=!0;var s,o="self"===r.options.captionSelector?r.elements[r.lIndex]:r.elements[r.lIndex].querySelector(r.options.captionSelector);s="data"===r.options.captionType?o.dataset[r.options.captionsData]:"text"===r.options.captionType?o.innerHTML:o.getAttribute(r.options.captionsData),r.options.loop||(0===r.lIndex&&r.hide(r.n.d.querySelector(".sl-prev")),r.lIndex>=r.elements.length-1&&r.hide(r.n.d.querySelector(".sl-next")),0<r.lIndex&&r.show(r.n.d.querySelector(".sl-prev")),r.lIndex<r.elements.length-1&&r.show(r.n.d.querySelector(".sl-next"))),1===r.elements.length&&r.hide(r.n.d.querySelectorAll(".sl-prev, .sl-next")),1===a||-1===a?(r.options.animationSlide&&(r.slide(0,100*a+"px"),setTimeout(function(){r.slide(r.options.animationSpeed/1e3,"0px")},50)),r.fadeIn(r.n.h,300,function(){r.h=!1,r.setCaption(s,e)})):(r.h=!1,r.setCaption(s,e)),r.options.additionalHtml&&!r.n.i&&(r.n.i=document.createElement("div"),r.n.i.classList.add("sl-additional-html"),r.n.i.innerHTML=r.options.additionalHtml,r.n.h.appendChild(r.n.i))})}},{key:"zoomPanElement",value:function(t,e,i){this.l.style[this.b+"transform"]="translate("+t+","+e+") scale("+i+")"}},{key:"minMax",value:function(t,e,i){return t<e?e:i<t?i:t}},{key:"setZoomData",value:function(t,e,i){this.l.dataset.scale=t,this.l.dataset.translateX=e,this.l.dataset.translateY=i}},{key:"hashchangeHandler",value:function(){this.g&&this.hash===this.e&&this.close()}},{key:"addEvents",value:function(){var i=this;this.addEventListener(window,"resize."+this.m,function(t){i.g&&i.adjustImage()}),this.addEventListener(this.n.b,["click."+this.m,"touchstart."+this.m],this.close.bind(this)),this.options.history&&setTimeout(function(){i.addEventListener(window,"hashchange."+i.m,function(t){i.g&&i.hashchangeHandler()})},40),this.addEventListener(this.n.d,"click."+this.m,function(t){if(!t.target.tagName.match(/button/i))return!0;t.preventDefault(),i.t.a=0,i.loadImage(t.target.classList.contains("sl-next")?1:-1)}),this.addEventListener(this.n.h,["touchstart."+this.m,"mousedown."+this.m],function(t){if("A"===t.target.tagName&&"touchstart"===t.type)return!0;if("mousedown"!==t.type){if(i.t.L=t.touches.length,i.t.s=t.touches[0].clientX,i.t.t=t.touches[0].clientY,i.t.j=i.getDimensions(i.n.h).height,i.t.k=i.getDimensions(i.n.h).width,i.t.n=i.getDimensions(i.l).height,i.t.o=i.getDimensions(i.l).width,i.t.l=i.n.h.offsetLeft,i.t.m=i.n.h.offsetTop,1===i.t.L){if(i.t.M)return i.l.classList.add("sl-transition"),i.t.i?(i.t.w=1,i.setZoomData(0,0,i.t.w),i.zoomPanElement("0px","0px",i.t.w),i.t.i=!1):(i.t.w=i.options.doubleTapZoom,i.setZoomData(0,0,i.t.w),i.zoomPanElement("0px","0px",i.t.w),i.n.g.style.opacity||"none"===i.n.g.style.display||i.fadeOut(i.n.g,200),i.t.i=!0),setTimeout(function(){i.l&&i.l.classList.remove("sl-transition")},200),!1;i.t.M=!0,setTimeout(function(){i.t.M=!1},300),i.tinitialOffsetX=parseFloat(i.l.dataset.translateX),i.tinitialOffsetY=parseFloat(i.l.dataset.translateY)}else 2===i.t.L&&(i.t.s2=t.touches[1].clientX,i.t.t2=t.touches[1].clientY,i.tinitialOffsetX=parseFloat(i.l.dataset.translateX),i.tinitialOffsetY=parseFloat(i.l.dataset.translateY),i.t.F=(i.t.s+i.t.s2)/2,i.t.G=(i.t.t+i.t.t2)/2,i.t.x=Math.sqrt((i.t.s-i.t.s2)*(i.t.s-i.t.s2)+(i.t.t-i.t.t2)*(i.t.t-i.t.t2)));i.t.p=!0}return!!i.t.g||(i.c&&(i.t.h=parseInt(i.n.h.style.left,10)),i.t.g=!0,i.t.a=0,i.t.b=0,i.t.c=t.pageX||t.touches[0].pageX,i.t.e=t.pageY||t.touches[0].pageY,!1)}),this.addEventListener(this.n.h,["touchmove."+this.m,"mousemove."+this.m,"MSPointerMove"],function(t){if(!i.t.g)return!0;if(t.preventDefault(),"touchmove"===t.type){if(!1===i.t.p)return!1;i.t.y=t.touches[0].clientX,i.t.z=t.touches[0].clientY,i.t.L=t.touches.length,i.t.N++,1<i.t.L?(i.t.y2=t.touches[1].clientX,i.t.z2=t.touches[1].clientY,i.t.K=Math.sqrt((i.t.y-i.t.y2)*(i.t.y-i.t.y2)+(i.t.z-i.t.z2)*(i.t.z-i.t.z2)),null===i.t.x&&(i.t.x=i.t.K),1<=Math.abs(i.t.x-i.t.K)&&(i.t.E=i.minMax(i.t.K/i.t.x*i.t.w,1,i.options.maxZoom),i.t.H=(i.t.o*i.t.E-i.t.k)/2,i.t.I=(i.t.n*i.t.E-i.t.j)/2,i.t.J=i.t.E-i.t.w,i.t.C=i.t.o*i.t.E<=i.t.k?0:i.minMax(i.t.q-(i.t.F-i.t.l-i.t.k/2-i.t.q)/(i.t.E-i.t.J)*i.t.J,-1*i.t.H,i.t.H),i.t.D=i.t.n*i.t.E<=i.t.j?0:i.minMax(i.t.r-(i.t.G-i.t.m-i.t.j/2-i.t.r)/(i.t.E-i.t.J)*i.t.J,-1*i.t.I,i.t.I),i.zoomPanElement(i.t.C+"px",i.t.D+"px",i.t.E),1<i.t.E&&(i.t.i=!0,i.n.g.style.opacity||"none"===i.n.g.style.display||i.fadeOut(i.n.g,200)),i.t.x=i.t.K,i.t.w=i.t.E,i.t.q=i.t.C,i.t.r=i.t.D)):(i.t.E=i.t.w,i.t.H=(i.t.o*i.t.E-i.t.k)/2,i.t.I=(i.t.n*i.t.E-i.t.j)/2,i.t.C=i.t.o*i.t.E<=i.t.k?0:i.minMax(i.t.y-(i.t.s-i.t.q),-1*i.t.H,i.t.H),i.t.D=i.t.n*i.t.E<=i.t.j?0:i.minMax(i.t.z-(i.t.t-i.t.r),-1*i.t.I,i.t.I),Math.abs(i.t.C)===Math.abs(i.t.H)&&(i.t.q=i.t.C,i.t.s=i.t.y),Math.abs(i.t.D)===Math.abs(i.t.I)&&(i.t.r=i.t.D,i.t.t=i.t.z),i.setZoomData(i.t.w,i.t.C,i.t.D),i.zoomPanElement(i.t.C+"px",i.t.D+"px",i.t.E))}i.t.i||(i.t.d=t.pageX||t.touches[0].pageX,i.t.f=t.pageY||t.touches[0].pageY,i.t.a=i.t.c-i.t.d,i.t.b=i.t.e-i.t.f,i.options.animationSlide&&i.slide(0,-i.t.a+"px"))}),this.addEventListener(this.n.h,["touchend."+this.m,"mouseup."+this.m,"touchcancel."+this.m,"mouseleave."+this.m,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(t){if(i.d&&"touchend"===t.type&&(i.t.L=t.touches.length,0===i.t.L?(i.setZoomData(i.t.w,i.t.C,i.t.D),1===i.t.w&&(i.t.i=!1,"none"===i.n.g.style.display&&i.fadeIn(i.n.g,200)),i.t.x=null,i.t.p=!1):1===i.t.L?(i.t.s=t.touches[0].clientX,i.t.t=t.touches[0].clientY):1<i.t.L&&(i.t.x=null)),i.t.g){var e=!(i.t.g=!1);i.options.loop||(0===i.lIndex&&i.t.a<0&&(e=!1),i.lIndex>=i.elements.length-1&&0<i.t.a&&(e=!1)),Math.abs(i.t.a)>i.options.swipeTolerance&&e?i.loadImage(0<i.t.a?1:-1):i.options.animationSlide&&i.slide(i.options.animationSpeed/1e3,"0px"),i.options.swipeClose&&50<Math.abs(i.t.b)&&Math.abs(i.t.a)<i.options.swipeTolerance&&i.close()}})}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),i=t.offsetHeight,n=t.offsetWidth,s=parseFloat(e.borderTopWidth);return{height:i-parseFloat(e.borderBottomWidth)-s-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:n-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}}},{key:"updateHash",value:function(){var t="pid="+(this.lIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.f?window.history[this.j?"replaceState":"pushState"]("",document.title,e):this.j?window.location.replace(e):window.location.hash=t,this.j=!0}},{key:"resetHash",value:function(){this.f?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.k)}},{key:"updateURL",value:function(){this.j?this.k=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e){var i=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.n.g),this.n.g.style.width=e+"px",this.n.g.innerHTML=t,this.n.h.appendChild(this.n.g),setTimeout(function(){i.fadeIn(i.n.g,300)},this.options.captionDelay))}},{key:"slide",value:function(t,e){if(!this.c)return this.n.h.style.left=e;this.n.h.style[this.b+"transform"]="translateX("+e+")",this.n.h.style[this.b+"transition"]=this.b+"transform "+t+"s linear"}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.m)),this.options.disableScroll&&(this.s=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.n.a),this.n.a.appendChild(this.n.h),this.options.overlay&&document.body.appendChild(this.n.f),this.h=!0,this.lIndex=this.elements.indexOf(t);var i=t.getAttribute(this.options.sourceAttr);this.l=document.createElement("img"),this.l.style.display="none",this.l.setAttribute("src",i),this.l.dataset.scale=1,this.l.dataset.translateX=0,this.l.dataset.translateY=0,-1===this.o.indexOf(i)&&this.o.push(i),this.n.h.innerHTML="",this.n.h.setAttribute("style",""),this.n.h.appendChild(this.l),this.fadeIn(this.n.f,300),this.fadeIn([this.n.c,this.n.d,this.n.b],300),this.show(this.n.e),this.n.c.querySelector(".sl-current").innerHtml=this.lIndex+1,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout(function(){t.dispatchEvent(new Event("shown."+e.m))},this.options.animationSpeed)}},{key:"addEventListener",value:function(t,e,i,n){t=this.wrap(t),e=this.wrap(e);var s=!0,o=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var h=r.value;h.namespaces||(h.namespaces={});var d=!0,c=!1,u=void 0;try{for(var p,m=e[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var y=p.value,f=n||!1;h.namespaces[y]=i,h.addEventListener(y.split(".")[0],i,f)}}catch(t){c=!0,u=t}finally{try{d||null==m.return||m.return()}finally{if(c)throw u}}}}catch(t){o=!0,a=t}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var i=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value,l=!0,h=!1,d=void 0;try{for(var c,u=e[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var p=c.value;r.removeEventListener(p.split(".")[0],r.namespaces[p]),delete r.namespaces[p]}}catch(t){h=!0,d=t}finally{try{l||null==u.return||u.return()}finally{if(h)throw d}}}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}},{key:"fadeOut",value:function(p,t,m){var y=this;p=this.wrap(p);var e=!0,i=!1,n=void 0;try{for(var s,o=p[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.style.opacity=1}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}var f=16.66666/(t||300);!function t(){var e=parseFloat(p[0].style.opacity);if((e-=f)<0){var i=!0,n=!1,s=void 0;try{for(var o,a=p[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.style.display="none",r.style.opacity=""}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}m&&m.call(y,p)}else{var l=!0,h=!1,d=void 0;try{for(var c,u=p[Symbol.iterator]();!(l=(c=u.next()).done);l=!0)c.value.style.opacity=e}catch(t){h=!0,d=t}finally{try{l||null==u.return||u.return()}finally{if(h)throw d}}requestAnimationFrame(t)}}()}},{key:"fadeIn",value:function(u,t,p,e){var m=this;u=this.wrap(u);var i=!0,n=!1,s=void 0;try{for(var o,a=u[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.style.opacity=0,r.style.display=e||"block"}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}var y=parseFloat(u[0].dataset.opacityTarget||1),f=16.66666*y/(t||300);!function t(){var e=parseFloat(u[0].style.opacity);if((e+=f)>y){var i=!0,n=!1,s=void 0;try{for(var o,a=u[Symbol.iterator]();!(i=(o=a.next()).done);i=!0)o.value.style.opacity=""}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}p&&p.call(m,u)}else{var r=!0,l=!1,h=void 0;try{for(var d,c=u[Symbol.iterator]();!(r=(d=c.next()).done);r=!0)d.value.style.opacity=e}catch(t){l=!0,h=t}finally{try{r||null==c.return||c.return()}finally{if(l)throw h}}requestAnimationFrame(t)}}()}},{key:"hide",value:function(t){t=this.wrap(t);var e=!0,i=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;a.dataset.initialDisplay=a.style.display,a.style.display="none"}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"show",value:function(t,e){t=this.wrap(t);var i=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.style.display=r.dataset.initialDisplay||e||"block"}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}},{key:"wrap",value:function(t){return"function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var i=!0,n=!1,s=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.fullyNamespacedEvents||(r.fullyNamespacedEvents={});var l=!0,h=!1,d=void 0;try{for(var c,u=t[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var p=c.value;r.fullyNamespacedEvents[p]=e,r.addEventListener(p,e)}}catch(t){h=!0,d=t}finally{try{l||null==u.return||u.return()}finally{if(h)throw d}}}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return this}},{key:"off",value:function(t){t=this.wrap(t);var e=!0,i=!1,n=void 0;try{for(var s,o=this.elements[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value,r=!0,l=!1,h=void 0;try{for(var d,c=t[Symbol.iterator]();!(r=(d=c.next()).done);r=!0){var u=d.value;u in a.fullyNamespacedEvents&&a.removeEventListener(u,a.fullyNamespacedEvents[u])}}catch(t){l=!0,h=t}finally{try{r||null==c.return||c.return()}finally{if(l)throw h}}}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return this}},{key:"open",value:function(t){t=t||this.elements[0],this.p=this.elements.indexOf(t),this.openImage(t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"destroy",value:function(){this.off(["close."+this.m,"closed."+this.m,"nextImageLoaded."+this.m,"prevImageLoaded."+this.m,"change."+this.m,"nextDone."+this.m,"prevDone."+this.m,"error."+this.m,"changed."+this.m,"next."+this.m,"prev."+this.m,"show."+this.m,"shown."+this.m]),this.removeEventListener(this.elements,"click."+this.m),this.removeEventListener(document.body,"contextmenu."+this.m),this.removeEventListener(document.body,"keyup."+this.m),this.removeEventListener(this.n.d,"click."+this.m),this.removeEventListener(this.n.b,"click."+this.m),this.removeEventListener(window,"resize."+this.m),this.removeEventListener(window,"hashchange."+this.m),this.close(),this.g&&(document.body.removeChild(this.n.a),document.body.removeChild(this.n.f)),this.elements=null}},{key:"refresh",value:function(){if(!this.r)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.r;return this.destroy(),this.constructor(e,t),this}},{key:"hash",get:function(){return window.location.hash.substring(1)}}]),n}();!function(t,e,i,n){t.fn.simpleLightbox=function(t){return new SimpleLightbox(this.get(),t)}}(jQuery,window,document);